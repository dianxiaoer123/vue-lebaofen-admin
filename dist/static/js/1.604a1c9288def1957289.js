webpackJsonp([1],{svQp:function(t,e,a){"use strict";var i=a("aA9S"),n=a.n(i),s=a("dVeB"),c=a("TIfe");e.a={name:"tablemixin",data:function(){return{currentPage:1,totalPage:1,pageSize:20,tableData:[],loading:!0,delId:"",ticket:Object(c.a)()}},watch:{checkedList:function(t){this.exportClick()}},methods:{exportClick:function(){var t=this,e=this.checkedList;this.exportData;e.map(function(e){var a=t.getName(e,t.matchObj);t.exportData.cols.map(function(t,e,i){t.name==a&&(t.checked=!0)})})},getName:function(t,e){for(var a in e)if(a==t)return e[a]},getPage:function(){var t=this,e={pageNo:this.currentPage,pageSize:this.pageSize},a=n()(e,this.searchData);this.$store.dispatch(this.funcName,a).then(function(e){t.loading=!1,200==e.code&&(t.tableData=e.data.dataList,t.totalPage=e.data.total,t.tableData.map(function(t,e,a){if(t.createTime){var i=new Date(t.createTime);t.createTime=(n=i).getFullYear()+"-"+(n.getMonth()+1>9?n.getMonth()+1:"0"+(n.getMonth()+1))+"-"+(n.getDate()>9?n.getDate():"0"+n.getDate())}var n;return t}))})},handleSizeChange:function(t){this.pageSize=t,this.getPage()},handleCurrentChange:function(t){this.currentPage=t,this.getPage()},addForm:function(){this.emptyObj(this.sendForm),this.addVisible=!0},editForm:function(t){var e=this;this.addVisible=!0,this.$store.dispatch(this.editName,t).then(function(t){200==t.code&&(e.sendForm=t.data)})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.saveData(e.sendForm)})},saveData:function(t){var e=this;this.$store.dispatch(this.saveName,t).then(function(t){200==t.code&&(e.getPage(),e.addVisible=!1,Object(s.Message)({message:"操作成功！",type:"success",duration:5e3}))})},deleteForm:function(t){this.deleteVisible=!0,this.delId=t},deleteData:function(){var t=this;this.$store.dispatch(this.delName,this.delId).then(function(e){200==e.code&&(t.getPage(),t.deleteVisible=!1,Object(s.Message)({message:"删除成功！",type:"success",duration:5e3}))})},emptyObj:function(t){for(var e in t)t[e]=""},resetForm:function(t){this.$refs[t].resetFields()}},mounted:function(){var t=this;this.$nextTick(function(){t.getPage()})}}}});